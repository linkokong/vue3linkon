var H=Object.defineProperty;var U=(u,a,i)=>a in u?H(u,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[a]=i;var m=(u,a,i)=>U(u,typeof a!="symbol"?a+"":a,i);import{_ as X}from"./ExpansionPanel.vue_vue_type_style_index_0_lang-DGxgljQY.js";import{d as D,k as p,v as N,B as O,o as r,a as T,w as V,y as x,c as g,r as R,C as k,u as b,F as C,U as $,A as j}from"./index-DEE77wOJ.js";const G=D({__name:"MathLayout",setup(u){class a{constructor(n,e,o){m(this,"curveFunc");m(this,"xRange");m(this,"yRange");this.curveFunc=n,this.xRange=e,this.yRange=o}getY(n){let e=this.curveFunc(n);return n<this.xRange[0]?e=this.curveFunc(this.xRange[0]):n>this.xRange[1]&&(e=this.curveFunc(this.xRange[1])),e<this.yRange[0]&&(e=this.yRange[0]),e>this.yRange[1]&&(e=this.yRange[1]),e}}function i(t,n,e,o){const[l,c]=t.xRange,[F,I]=t.yRange,L=(c-l)/(n.length-1),W=(l+c)/2,A=(F+I)/2,E=e/(c-l),P=o/(I-F);for(let y=0;y<n.length;y++){const B=n[y],M=l+y*L,Y=t.getY(M),q=(M-W)*E,z=(Y-A)*P;B.style.setProperty("--dx",q),B.style.setProperty("--dy",z)}}const s={wave(t){const n=t.clientWidth,e=t.clientHeight,o=t.querySelectorAll(".image"),l=new a(c=>Math.sin(c),[0,6*Math.PI],[-1,1]);i(l,o,n-100,e/3)},line(t){const n=t.clientWidth,e=t.clientHeight,o=t.querySelectorAll(".image"),l=new a(()=>0,[0,1],[-1,1]);i(l,o,n-100,e)},parabola(t){const n=t.clientWidth,e=t.clientHeight,o=t.querySelectorAll(".image"),l=new a(c=>5*c*c,[-2,2],[-4,4]);i(l,o,n-100,e/2)}},d=p(null),h=p(null),v=p(null),f=p(50);function S(){let t=d.value,n=h.value,e=v.value;s.wave(t),s.line(n),s.parabola(e);const o=$.throttle(()=>{s.wave(t),s.line(n),s.parabola(e)},100);window.addEventListener("resize",o)}function w(){!d.value||!h.value||!v.value||!d.value.clientWidth||!h.value.clientWidth||!v.value.clientWidth?setTimeout(w,100):S()}N(()=>{w()}),O(()=>{window.removeEventListener("resize",()=>{let t=d.value,n=h.value,e=v.value;s.parabola(e),s.wave(t),s.line(n)})});function _(){const t="0123456789ABCDEF";let n="#";for(let e=0;e<6;e++)n+=t[Math.floor(Math.random()*16)];return n}return(t,n)=>(r(),T(X,{title:"函数式布局",onPanelOpen:w},{"text-content":V(()=>[x("div",{class:"container",ref_key:"waveImageContainer",ref:d},[(r(!0),g(C,null,R(b(f)*2,e=>(r(),g("div",{class:"image",style:k({background:_()}),key:e},null,4))),128))],512),x("div",{class:"container",ref_key:"lineImageContainer",ref:h},[(r(!0),g(C,null,R(b(f),e=>(r(),g("div",{class:"image",style:k({background:_()}),key:e},null,4))),128))],512),x("div",{class:"container",ref_key:"parabolaImageContainer",ref:v},[(r(!0),g(C,null,R(b(f),e=>(r(),g("div",{class:"image",style:k({background:_()}),key:e},null,4))),128))],512)]),_:1}))}}),Z=j(G,[["__scopeId","data-v-27868405"]]);export{Z as default};
